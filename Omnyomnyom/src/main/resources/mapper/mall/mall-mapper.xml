<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mall">

<select id="selectBuyList" resultType="buyHistory">
	select
		*
	from
		tb_buy_list
	where
		member_id = #{memberId}
</select>

<select id="selectIngredientList" resultMap="ingMallMap">
	select
		*
	from
		tb_Ingredient i
		join tb_ingredient_mall im on i.ingredient_no = im.ingredient_no
	where
		i.ing_cd_category	= #{subCtg}
</select>


<select id="selectBuyHistoryListCnt" resultType="string">
	select
		count(*)
	from
		tb_buy_list 
</select>

<select id="selectBuyHistoryList" resultType="buyHistory">
	select
		*
	from
		tb_buy_list 
</select>

<select id="selectIngMallOne" resultMap="ingMallMap">
	select
		*
	from
		tb_ingredient_mall
	join tb_ingredient using(ingredient_no)
		
	where
		ingredient_no = #{ingredientNo}
</select>
<resultMap type="IngredientMall" id="ingMallMap">
	<id column="ingredient_no" property="ingMallNo"/>
	<result column="ingredient_name" property="ingMallName"/>
	<result column="ING_FILENAME" property="prevImg"/>
	<result column="ENG_PR_CATEGORY" property="mallEngPrCategory"/>
	<result column="ENG_CD_CATEGORY" property="mallEngCdCategory"/>
</resultMap>

</mapper>